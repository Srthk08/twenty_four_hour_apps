import"./ProductDialog.astro_astro_type_script_index_0_lang.C4tfig-4.js";import"https://unpkg.com/@supabase/supabase-js@2";document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('a[href^="#"]').forEach(r=>{r.addEventListener("click",function(e){e.preventDefault();const s=this.getAttribute("href").substring(1),t=document.getElementById(s);t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})});const l=document.querySelectorAll(".filter-btn"),a=document.querySelectorAll(".product-card");l.forEach(r=>{r.addEventListener("click",()=>{l.forEach(s=>{s.classList.remove("active"),s.classList.add("bg-white","text-gray-700","border"),s.classList.remove("bg-primary-600","bg-blue-600","text-white"),s.style.color="#374151",s.style.backgroundColor="#ffffff",s.style.background="#ffffff"}),r.classList.add("active"),r.style.color="#3b82f6",r.style.backgroundColor="#ffffff",r.style.background="#ffffff";const e=r.dataset.filter;a.forEach(s=>{const t=s.dataset.category,i=s.dataset.productSlug;let o=!1;e==="all"?o=!0:e==="web"?o=i==="restaurant-website":e==="restaurant"?o=t===e&&i!=="restaurant-website"&&i!=="order-menu-system":e==="order-menu-system"?o=i==="order-menu-system":o=t===e,o?(s.style.display="block",s.classList.add("animate-fade-in")):s.style.display="none"})})});const c=new IntersectionObserver(r=>{r.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-fade-in"),c.unobserve(e.target))})},{rootMargin:"100px 0px",threshold:.05});document.querySelectorAll(".product-card").forEach(r=>{c.observe(r)});document.addEventListener("DOMContentLoaded",()=>{document.body.classList.add("page-loaded");const r=document.querySelectorAll(".filter-btn"),e=document.querySelector(".filter-section");e&&(e.style.display="block",e.style.visibility="visible",e.style.opacity="1"),r.forEach(t=>{t.style.display="inline-block",t.style.visibility="visible",t.style.opacity="1",t.classList.contains("active")?(t.style.color="#3b82f6",t.style.backgroundColor="#ffffff",t.style.background="#ffffff"):(t.style.color="#374151",t.style.backgroundColor="#ffffff",t.style.background="#ffffff"),t.classList.remove("bg-primary-600","bg-blue-600","text-white")});const s=document.querySelectorAll('.product-card img[loading="lazy"]');s.length>0&&Array.from(s).slice(0,3).forEach(t=>{t.loading="eager"})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".product-view-btn").forEach(e=>{e.addEventListener("click",function(s){s.preventDefault();const t=this.getAttribute("data-product-slug");if(this.getAttribute("data-product-name"),n()){window.location.href=`/products/${t}`;return}if(t!=="order-menu-system"){window.showProductDialog&&window.showProductDialog();return}window.location.href=`/products/${t}`})})});function n(){try{if(window.simpleAuthManager&&window.simpleAuthManager.isUserLoggedIn()){const e=window.simpleAuthManager.getCurrentUser();if(e&&e.role==="admin")return!0}const r=sessionStorage.getItem("simple-auth-session");if(r){const e=JSON.parse(r);if(e.user&&e.user.role==="admin")return!0}return!1}catch(r){return console.error("Error checking admin status:",r),!1}}
