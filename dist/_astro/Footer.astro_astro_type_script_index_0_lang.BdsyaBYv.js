class A{constructor(){this.isAuthenticated=!1,this.currentUser=null,this.isNavigating=!1,this.init()}init(){console.log("üöÄ Starting Global Auth Manager initialization..."),this.checkExistingSession(),window.addEventListener("user-logged-in",e=>{this.handleLogin(e.detail)}),window.addEventListener("user-logged-out",()=>{this.handleLogout()}),this.setupSupabaseAuthListener(),window.globalAuthManager=this,window.simpleAuthManager=this,console.log("‚úÖ Global Auth Manager initialized and available globally"),setTimeout(()=>{console.log("üîÑ Updating header after auth manager init..."),this.updateHeader()},100),setTimeout(()=>{console.log("üîÑ Second header update after auth manager init..."),this.updateHeader()},1e3)}setupSupabaseAuthListener(){const e=()=>{window.supabase?(console.log("üîó Setting up Supabase auth state listener..."),window.supabase.auth.onAuthStateChange((n,o)=>{console.log("üîÑ Supabase auth state changed:",n,o?.user?.email),n==="SIGNED_IN"&&o?.user?(this.isAuthenticated=!0,this.currentUser=o.user,this.updateGlobalUI(),console.log("‚úÖ User signed in via Supabase:",o.user.email)):n==="SIGNED_OUT"&&(this.isAuthenticated=!1,this.currentUser=null,this.updateGlobalUI(),console.log("‚úÖ User signed out via Supabase"))})):(console.log("‚è≥ Supabase not ready for auth listener, retrying..."),setTimeout(e,500))};e()}async checkExistingSession(){try{if(console.log("üîç Checking existing Supabase session..."),!window.supabase){console.log("‚è≥ Supabase not ready, retrying..."),setTimeout(()=>this.checkExistingSession(),500);return}const{data:{session:e},error:n}=await window.supabase.auth.getSession();if(n){console.error("‚ùå Error getting session:",n);return}if(e&&e.user){this.isAuthenticated=!0,this.currentUser=e.user,console.log("‚úÖ Existing Supabase session found:",this.currentUser.email),this.updateGlobalUI();return}const o=sessionStorage.getItem("simple-auth-session");if(o){const s=JSON.parse(o);if(s.user&&s.access_token){this.isAuthenticated=!0,this.currentUser=s.user,console.log("‚úÖ Existing session found in sessionStorage:",this.currentUser.email),this.updateGlobalUI();return}}console.log("‚ÑπÔ∏è No existing session found")}catch(e){console.error("Error checking existing session:",e)}}handleLogin(e){this.isAuthenticated=!0,this.currentUser=e;const n={user:e,access_token:"simple-token-"+Date.now(),timestamp:Date.now()};sessionStorage.setItem("simple-auth-session",JSON.stringify(n)),localStorage.setItem("simple-auth-user",JSON.stringify(e)),console.log("‚úÖ User logged in globally:",e.email),this.updateGlobalUI()}handleLogout(){this.isAuthenticated=!1,this.currentUser=null,sessionStorage.removeItem("simple-auth-session"),localStorage.removeItem("simple-auth-user"),sessionStorage.removeItem("has-visited-cart"),console.log("‚úÖ User logged out globally"),this.updateGlobalUI()}async signOut(){try{if(console.log("üö™ Signing out user..."),window.supabase){const{error:e}=await window.supabase.auth.signOut();e?console.error("‚ùå Supabase sign out error:",e):console.log("‚úÖ Signed out from Supabase")}this.handleLogout(),window.location.href="/"}catch(e){console.error("‚ùå Error signing out:",e),this.handleLogout(),window.location.href="/"}}updateGlobalUI(){this.updateHeader(),this.updateDashboard(),this.updateOtherComponents()}updateHeader(){const e=document.getElementById("auth-buttons"),n=document.getElementById("user-menu"),o=document.getElementById("mobile-auth-buttons"),s=document.getElementById("mobile-user-menu"),i=document.getElementById("admin-panel-link"),r=document.getElementById("mobile-admin-panel-link");console.log("üîÑ Updating header, user logged in:",this.isAuthenticated),this.isAuthenticated&&this.currentUser?(console.log("‚úÖ User is authenticated, showing user menu"),e&&e.classList.add("hidden"),n&&n.classList.remove("hidden"),o&&o.classList.add("hidden"),s&&s.classList.remove("hidden"),this.updateUserDropdownInfo(),this.checkAdminAccess(i,r)):(console.log("‚ùå User not authenticated, showing auth buttons"),e&&e.classList.remove("hidden"),n&&n.classList.add("hidden"),o&&o.classList.remove("hidden"),s&&s.classList.add("hidden"),i&&i.classList.add("hidden"),r&&r.classList.add("hidden"))}updateUserDropdownInfo(){if(!this.currentUser)return;const e=document.getElementById("user-email"),n=document.getElementById("mobile-user-email"),o=document.getElementById("user-name"),s=document.getElementById("user-avatar"),i=document.getElementById("mobile-user-name"),r=document.getElementById("mobile-user-avatar"),l=this.currentUser.full_name||this.currentUser.user_metadata?.full_name||this.currentUser.email?.split("@")[0]||"User",a=this.currentUser.email||"user@example.com",y=l.charAt(0).toUpperCase();e&&(e.textContent=a),o&&(o.textContent=l),s&&(s.textContent=y),n&&(n.textContent=a),i&&(i.textContent=l),r&&(r.textContent=y),console.log("‚úÖ Updated user dropdown info:",{displayName:l,email:a})}async checkAdminAccess(e,n){if(!(!this.currentUser||!window.supabase))try{const{data:o}=await window.supabase.from("profiles").select("role").eq("id",this.currentUser.id).single();o&&o.role==="admin"?(e&&e.classList.remove("hidden"),n&&n.classList.remove("hidden"),console.log("‚úÖ Admin panel links shown for admin user")):(e&&e.classList.add("hidden"),n&&n.classList.add("hidden"))}catch(o){console.log("Error checking admin access:",o),e&&e.classList.add("hidden"),n&&n.classList.add("hidden")}}updateHeaderUserInfo(){if(!this.currentUser)return;const e=document.getElementById("user-email"),n=document.getElementById("user-name"),o=document.getElementById("user-avatar"),s=document.getElementById("mobile-user-email");e&&(e.textContent=this.currentUser.email||""),n&&(n.textContent=this.currentUser.full_name||this.currentUser.email?.split("@")[0]||"User"),o&&(o.textContent=(this.currentUser.full_name||this.currentUser.email||"U").charAt(0).toUpperCase()),s&&(s.textContent=this.currentUser.email||"")}updateDashboard(){const e=document.getElementById("user-welcome"),n=document.getElementById("user-full-name"),o=document.getElementById("user-email"),s=document.getElementById("user-phone"),i=document.getElementById("user-company");this.isAuthenticated&&this.currentUser?(e&&(e.textContent=this.currentUser.full_name||this.currentUser.email?.split("@")[0]||"User"),n&&(n.textContent=this.currentUser.full_name||"Not set"),o&&(o.textContent=this.currentUser.email||"Not set"),s&&(s.textContent=this.currentUser.phone||"Not set"),i&&(i.textContent=this.currentUser.company_name||"Not set")):(e&&(e.textContent="Guest"),n&&(n.textContent="Guest User"),o&&(o.textContent="Not logged in"),s&&(s.textContent="Not available"),i&&(i.textContent="Guest Company"))}updateOtherComponents(){}getCurrentUser(){return this.currentUser}isUserLoggedIn(){return this.isAuthenticated}logout(){this.handleLogout(),window.location.href="/"}requireAuth(e="/login"){return this.isAuthenticated?!0:(console.log("üîí Authentication required, redirecting to:",e),window.location.href=e,!1)}updateProfile(e){if(this.currentUser){this.currentUser={...this.currentUser,...e};const n=sessionStorage.getItem("simple-auth-session");if(n){const o=JSON.parse(n);o.user=this.currentUser,sessionStorage.setItem("simple-auth-session",JSON.stringify(o))}localStorage.setItem("simple-auth-user",JSON.stringify(this.currentUser)),console.log("‚úÖ Profile updated in global auth manager:",this.currentUser),this.updateGlobalUI()}}}window.hideUserNavbar=function(){if(window.location.pathname.startsWith("/admin")){const t=document.querySelector("header");t&&(t.classList.add("admin-hidden"),console.log("‚úÖ User navbar hidden for admin panel"))}};window.showUserNavbar=function(){if(!window.location.pathname.startsWith("/admin")){const t=document.querySelector("header");t&&(t.classList.remove("admin-hidden"),t.removeAttribute("style"),console.log("‚úÖ User navbar shown"))}};function C(){window.location.pathname.startsWith("/admin")?(document.body.classList.add("admin-panel-active"),window.hideUserNavbar()):(document.body.classList.remove("admin-panel-active"),document.documentElement.classList.remove("admin-panel-active"),window.showUserNavbar())}function w(){window.location.pathname.startsWith("/admin")||(document.documentElement.classList.remove("admin-panel-active"),document.body.classList.remove("admin-panel-active"))}function f(){try{console.log("üöÄ Initializing Global Auth Manager..."),new A,C(),w(),console.log("‚úÖ Global Auth Manager initialized successfully")}catch(t){console.error("‚ùå Error initializing Global Auth Manager:",t),setTimeout(f,100)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",f):f();window.addEventListener("popstate",w);window.addEventListener("beforeunload",w);window.signOut=async function(){const t=window.globalAuthManager||window.simpleAuthManager;t?await t.signOut():(console.error("‚ùå Auth manager not available for sign out"),window.location.href="/")};window.debugAuth=function(){const t=window.globalAuthManager||window.simpleAuthManager;console.log("üîç Auth Debug Info:"),console.log("Auth Manager:",t),t&&(console.log("Is Authenticated:",t.isAuthenticated),console.log("Current User:",t.currentUser),console.log("Calling updateHeader()..."),t.updateHeader());const e=document.getElementById("auth-buttons"),n=document.getElementById("user-menu");console.log("Auth Buttons:",e,"Hidden:",e?.classList.contains("hidden")),console.log("User Menu:",n,"Hidden:",n?.classList.contains("hidden"))};document.addEventListener("click",function(t){const e=t.target.closest("a[href]");e&&e.href.includes("#")});window.addEventListener("load",function(){});function v(){if(!window.location.pathname.startsWith("/admin")){const t=document.querySelector("header");t&&(t.style.display="block",t.style.visibility="visible",t.style.opacity="1",t.style.height="auto",t.style.maxHeight="none",t.style.overflow="visible",t.style.position="static",t.style.top="auto",t.style.left="auto",t.style.zIndex="50",t.style.pointerEvents="auto",t.style.transform="none",t.style.transition="none",t.style.animation="none")}}v();document.addEventListener("DOMContentLoaded",v);window.utils={formatCurrency:(t,e="INR")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:e}).format(t),formatDate:(t,e={})=>{const n={year:"numeric",month:"long",day:"numeric",...e};return new Intl.DateTimeFormat("en-IN",n).format(new Date(t))},debounce:(t,e)=>{let n;return function(...s){const i=()=>{clearTimeout(n),t(...s)};clearTimeout(n),n=setTimeout(i,e)}},throttle:(t,e)=>{let n;return function(){const o=arguments,s=this;n||(t.apply(s,o),n=!0,setTimeout(()=>n=!1,e))}},copyToClipboard:async t=>{try{return await navigator.clipboard.writeText(t),!0}catch{const n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.focus(),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),!0}catch{return document.body.removeChild(n),!1}}},generateId:()=>Math.random().toString(36).substr(2,9),isValidEmail:t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),isValidPhone:t=>/^(\+91[\-\s]?)?[789]\d{9}$/.test(t),scrollToElement:(t,e=0)=>{const n=document.getElementById(t);if(n){const s=n.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:s,behavior:"smooth"})}},showLoading:t=>{t&&(t.disabled=!0,t.dataset.originalText=t.textContent,t.innerHTML=`
              <svg class="animate-spin -ml-1 mr-3 h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
              Loading...
            `)},hideLoading:t=>{t&&t.dataset.originalText&&(t.disabled=!1,t.textContent=t.dataset.originalText,delete t.dataset.originalText)}};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('form[data-auto-loading="true"]').forEach(n=>{n.addEventListener("submit",o=>{const s=n.querySelector('button[type="submit"]');s&&window.utils.showLoading(s)})}),document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(o){o.preventDefault();const s=this.getAttribute("href").substring(1);window.utils.scrollToElement(s,80)})});const t={threshold:.1,rootMargin:"0px 0px -50px 0px"},e=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-fade-in")})},t);document.querySelectorAll(".animate-on-scroll").forEach(n=>{e.observe(n)})});document.addEventListener("visibilitychange",()=>{document.hidden?document.title="üëã Come back soon! - DevExpress":document.title=document.title.replace("üëã Come back soon! - ","")});window.addEventListener("online",()=>{typeof window.showToast=="function"&&window.showToast("You are back online!","success")});window.addEventListener("offline",()=>{typeof window.showToast=="function"&&window.showToast("You are currently offline. Some features may not work.","warning")});typeof emailjs<"u"?(emailjs.init("YOUR_USER_ID"),console.log("EmailJS initialized successfully")):console.log("EmailJS not available");tailwind.config={theme:{extend:{colors:{primary:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},secondary:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7c3aed",800:"#6b21a8",900:"#581c87",950:"#3b0764"},accent:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"}},fontFamily:{sans:["Inter","system-ui","sans-serif"]},animation:{"fade-in":"fadeIn 0.5s ease-in-out","slide-up":"slideUp 0.3s ease-out","bounce-in":"bounceIn 0.6s ease-out"},keyframes:{fadeIn:{"0%":{opacity:"0"},"100%":{opacity:"1"}},slideUp:{"0%":{transform:"translateY(10px)",opacity:"0"},"100%":{transform:"translateY(0)",opacity:"1"}},bounceIn:{"0%":{transform:"scale(0.3)",opacity:"0"},"50%":{transform:"scale(1.05)"},"70%":{transform:"scale(0.9)"},"100%":{transform:"scale(1)",opacity:"1"}}}}}};const E="https://lmrrdcaavwwletcjcpqv.supabase.co",I="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxtcnJkY2Fhdnd3bGV0Y2pjcHF2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MDQ0ODgsImV4cCI6MjA3MTA4MDQ4OH0.AU59Qfr6K9i880Gcn5y-3pjCf8PXsDIq4OI0-lPQVuQ";let T=!1,c=0;const h=50;function g(){try{typeof supabase<"u"?(window.supabase=supabase.createClient(E,I),T=!0,console.log("‚úÖ Supabase client initialized globally"),B()):(c++,c<h?(console.log(`‚è≥ Supabase library not loaded yet, retrying... (${c}/${h})`),setTimeout(g,100)):console.error("‚ùå Failed to load Supabase library after maximum retries"))}catch(t){console.error("‚ùå Error initializing Supabase:",t),c++,c<h&&setTimeout(g,100)}}async function B(){try{if(window.supabase){const{data:t,error:e}=await window.supabase.from("contact_submissions").select("id").limit(1);e?console.warn("‚ö†Ô∏è Supabase connection test failed:",e.message):console.log("‚úÖ Supabase connection test successful")}}catch(t){console.warn("‚ö†Ô∏è Supabase connection test error:",t)}}g();window.getSupabaseClient=function(){return window.supabase?window.supabase:typeof supabase<"u"?supabase.createClient(E,I):(console.error("‚ùå Supabase not available"),null)};function x(){document.querySelectorAll(".text-white:not(header .text-white):not(section .text-white)").forEach(o=>{o.style.setProperty("--tw-text-opacity","1","important"),o.style.setProperty("color","rgb(21 17 17)","important")}),document.querySelectorAll("header .text-white").forEach(o=>{o.style.setProperty("--tw-text-opacity","1","important"),o.style.setProperty("color","white","important")}),document.querySelectorAll("section .text-white").forEach(o=>{o.style.setProperty("--tw-text-opacity","1","important"),o.style.setProperty("color","white","important")})}document.addEventListener("DOMContentLoaded",x);const k=new MutationObserver(x);k.observe(document.body,{childList:!0,subtree:!0});(function(){if(window.location.pathname.startsWith("/admin")){let t=function(){const e=document.querySelector("header");e&&(e.style.display="none",e.style.visibility="hidden",e.style.opacity="0",e.style.height="0",e.style.maxHeight="0",e.style.overflow="hidden",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",e.style.zIndex="-9999",e.style.pointerEvents="none",e.style.transform="translateY(-100vh)",e.style.transition="none",e.style.animation="none")};document.documentElement.classList.add("admin-panel-active"),document.body.classList.add("admin-panel-active"),t(),document.readyState==="loading"&&document.addEventListener("DOMContentLoaded",t),setTimeout(t,0),setTimeout(t,10),setTimeout(t,50)}else document.documentElement.classList.remove("admin-panel-active"),document.body.classList.remove("admin-panel-active")})();class N{constructor(){this.container=document.getElementById("toast-container"),this.toasts=[],this.maxToasts=5}show(e,n="info",o=5e3){const s=this.createToast(e,n);if(this.container?.appendChild(s),this.toasts.push(s),this.toasts.length>this.maxToasts){const i=this.toasts.shift();i&&i.remove()}return setTimeout(()=>{s.classList.add("translate-x-0","opacity-100")},100),o>0&&setTimeout(()=>{this.remove(s)},o),s}createToast(e,n){const o=document.createElement("div");o.className="transform translate-x-full opacity-0 transition-all duration-300 ease-out max-w-sm w-full bg-white rounded-lg shadow-lg border-l-4 p-4";const s={success:"border-green-500",error:"border-red-500",warning:"border-yellow-500",info:"border-blue-500"};o.classList.add(s[n]||s.info);const i={success:`<svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
        </svg>`,error:`<svg class="w-5 h-5 text-red-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
        </svg>`,warning:`<svg class="w-5 h-5 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
        </svg>`,info:`<svg class="w-5 h-5 text-blue-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
        </svg>`},r={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return o.innerHTML=`
        <div class="flex items-start">
          <div class="flex-shrink-0">
            ${i[n]||i.info}
          </div>
          <div class="ml-3 flex-1">
            <p class="text-sm font-medium ${r[n]||r.info}">
              ${e}
            </p>
          </div>
          <div class="ml-4 flex-shrink-0 flex">
            <button class="inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition-colors" onclick="this.closest('[id^=toast-]').remove()">
              <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
              </svg>
            </button>
          </div>
        </div>
      `,o.id=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,o}remove(e){e&&e.parentNode&&(e.classList.remove("translate-x-0","opacity-100"),e.classList.add("translate-x-full","opacity-0"),setTimeout(()=>{if(e.parentNode){e.remove();const n=this.toasts.indexOf(e);n>-1&&this.toasts.splice(n,1)}},300))}clear(){this.toasts.forEach(e=>{this.remove(e)})}}const d=new N;window.showToast=function(t,e="info",n=5e3){return d.show(t,e,n)};window.clearToasts=function(){d.clear()};window.removeToast=function(t){d.remove(t)};window.addEventListener("beforeunload",()=>{d.clear()});document.addEventListener("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.shiftKey&&t.key==="T"&&(t.preventDefault(),d.clear())});let u=!1,m=!1;async function L(){try{console.log("Header update using global auth manager");const t=window.globalAuthManager||window.simpleAuthManager;if(!t){console.log("Global auth manager not available yet");return}t.updateHeader(),console.log("‚úÖ Header updated using global auth manager")}catch(t){console.error("Error in updateHeader:",t)}}function U(){console.log("Setting initial UI state using global auth manager");const t=()=>{const e=window.globalAuthManager||window.simpleAuthManager;e?(e.updateHeader(),console.log("‚úÖ Initial UI state set using global auth manager")):(console.log("Global auth manager not ready yet, retrying..."),setTimeout(t,100))};t()}function M(){const t=document.getElementById("user-menu-button"),e=document.getElementById("user-dropdown"),n=document.getElementById("user-menu-arrow");t&&e&&n&&(t.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),O()}),document.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&D()}))}function O(){const t=document.getElementById("user-dropdown"),e=document.getElementById("user-menu-arrow");t&&e&&(u=!u,u?(t.classList.remove("hidden"),e.style.transform="rotate(180deg)"):(t.classList.add("hidden"),e.style.transform="rotate(0deg)"))}function D(){const t=document.getElementById("user-dropdown"),e=document.getElementById("user-menu-arrow");t&&e&&(t.classList.add("hidden"),e.style.transform="rotate(0deg)",u=!1)}window.signOut=async function(){try{console.log("Sign out clicked - using global auth manager");const t=window.globalAuthManager||window.simpleAuthManager;t?t.logout():window.location.href="/"}catch(t){console.error("Sign out error:",t),window.location.href="/"}};function S(){const t=document.getElementById("mobile-menu-button"),e=document.getElementById("mobile-menu"),n=document.getElementById("mobile-menu-icon");t&&e&&n&&(t.addEventListener("click",()=>{z()}),document.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&b()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&!e.classList.contains("hidden")&&b()}))}function z(){const t=document.getElementById("mobile-menu"),e=document.getElementById("mobile-menu-icon");t&&e&&(m=!m,m?(t.classList.remove("hidden"),e.style.transform="rotate(90deg)",e.innerHTML=`
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        `):(t.classList.add("hidden"),e.style.transform="rotate(0deg)",e.innerHTML=`
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        `))}function b(){const t=document.getElementById("mobile-menu"),e=document.getElementById("mobile-menu-icon");t&&e&&(t.classList.add("hidden"),e.style.transform="rotate(0deg)",e.innerHTML=`
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
      `,m=!1)}document.addEventListener("DOMContentLoaded",()=>{console.log("Header initializing with global auth manager"),U(),M(),S(),console.log("‚úÖ Header initialized with global auth manager")});window.addEventListener("user-logged-in",()=>{console.log("User logged in event received in header"),L()});window.addEventListener("user-logged-out",()=>{console.log("User logged out event received in header"),L()});function H(){console.log("üöÄ Initializing header..."),M(),S(),U(),console.log("‚úÖ Header initialized")}function p(){window.globalAuthManager||window.simpleAuthManager?(console.log("‚úÖ Auth manager ready, initializing header"),H()):(console.log("‚è≥ Auth manager not ready, retrying header initialization..."),setTimeout(p,200))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",p):p();document.addEventListener("DOMContentLoaded",function(){function t(){const o=document.querySelector(".footer");o&&(o.querySelectorAll("*").forEach(a=>{a.style.setProperty("color","#ffffff","important"),a.style.setProperty("fill","#ffffff","important"),a.style.setProperty("stroke","#ffffff","important")}),o.querySelectorAll("svg, svg *").forEach(a=>{a.style.setProperty("fill","#ffffff","important"),a.style.setProperty("color","#ffffff","important"),a.style.setProperty("stroke","#ffffff","important"),a.setAttribute("fill","#ffffff")}),o.querySelectorAll("a").forEach(a=>{a.style.setProperty("color","#ffffff","important")}),o.querySelectorAll("p, h1, h2, h3, h4, h5, h6, span, div, li, ul, ol").forEach(a=>{a.style.setProperty("color","#ffffff","important")}))}t(),setTimeout(t,100),setTimeout(t,500),setTimeout(t,1e3);const e=new MutationObserver(function(o){o.forEach(function(s){(s.type==="childList"||s.type==="attributes")&&t()})}),n=document.querySelector(".footer");n&&e.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]})});
