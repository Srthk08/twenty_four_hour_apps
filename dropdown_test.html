<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dropdown Test</title>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        [x-cloak] { display: none !important; }
        .relative { position: relative; }
        .absolute { position: absolute; }
        .right-0 { right: 0; }
        .mt-2 { margin-top: 0.5rem; }
        .w-48 { width: 12rem; }
        .bg-white { background-color: white; }
        .rounded-lg { border-radius: 0.5rem; }
        .shadow-xl { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .z-50 { z-index: 50; }
        .border { border-width: 1px; }
        .border-gray-200 { border-color: #e5e7eb; }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .space-x-3 > * + * { margin-left: 0.75rem; }
        .p-2 { padding: 0.5rem; }
        .text-sm { font-size: 0.875rem; }
        .rounded-lg { border-radius: 0.5rem; }
        .hover\:bg-gray-100:hover { background-color: #f3f4f6; }
        .focus\:outline-none:focus { outline: 2px solid transparent; outline-offset: 2px; }
        .focus\:ring-2:focus { box-shadow: 0 0 0 2px var(--tw-ring-color); }
        .focus\:ring-blue-500:focus { --tw-ring-color: #3b82f6; }
        .transition-all { transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
        .duration-200 { transition-duration: 200ms; }
        .w-8 { width: 2rem; }
        .h-8 { height: 2rem; }
        .bg-blue-600 { background-color: #2563eb; }
        .rounded-full { border-radius: 9999px; }
        .justify-center { justify-content: center; }
        .shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }
        .text-white { color: white; }
        .font-medium { font-weight: 500; }
        .text-sm { font-size: 0.875rem; }
        .hidden { display: none; }
        .md\:block { display: block; }
        .text-gray-700 { color: #374151; }
        .w-4 { width: 1rem; }
        .h-4 { height: 1rem; }
        .text-gray-400 { color: #9ca3af; }
        .block { display: block; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .hover\:bg-gray-50:hover { background-color: #f9fafb; }
        .transition-colors { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke; }
        .duration-200 { transition-duration: 200ms; }
        .my-2 { margin-top: 0.5rem; margin-bottom: 0.5rem; }
        .border-gray-200 { border-color: #e5e7eb; }
        .w-full { width: 100%; }
        .text-left { text-align: left; }
        .text-red-600 { color: #dc2626; }
        .hover\:bg-red-50:hover { background-color: #fef2f2; }
        .mr-2 { margin-right: 0.5rem; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Dropdown Test</h1>
        
        <div class="flex items-center space-x-4">
            <div class="relative" x-data="{ open: false }">
                <button 
                    @click="open = !open; console.log('🖱️ Dropdown clicked, open:', open)"
                    class="flex items-center space-x-3 p-2 text-sm rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200"
                >
                    <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center shadow-sm">
                        <span class="text-white font-medium text-sm">A</span>
                    </div>
                    <span class="hidden md:block text-gray-700 font-medium">Admin</span>
                    <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>

                <div 
                    x-show="open"
                    x-transition:enter="transition ease-out duration-100"
                    x-transition:enter-start="transform opacity-0 scale-95"
                    x-transition:enter-end="transform opacity-100 scale-100"
                    x-transition:leave="transition ease-in duration-75"
                    x-transition:leave-start="transform opacity-100 scale-100"
                    x-transition:leave-end="transform opacity-0 scale-95"
                    @click.away="open = false"
                    x-cloak
                    class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2 z-50 border border-gray-200"
                >
                    <a href="#" 
                       class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200"
                       @click="
                         console.log('🖱️ Profile clicked');
                         open = false;
                       ">
                        <div class="flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                            Profile
                        </div>
                    </a>
                    <hr class="my-2 border-gray-200">
                    <button 
                        class="block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200"
                        @click="
                            console.log('🖱️ Sign out clicked');
                            open = false;
                            alert('Sign out clicked!');
                        ">
                        <div class="flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                            </svg>
                            Sign out
                        </div>
                    </button>
                </div>
            </div>
        </div>
        
        <div style="margin-top: 20px;">
            <p>Test the dropdown by clicking the admin button above. Check the browser console for debug messages.</p>
        </div>
    </div>
</body>
</html>
